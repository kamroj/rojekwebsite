---
import styles from '../../ui/Breadcrumbs.module.css';

/** @type {{items: Array<{label: string, to?: string}>}} */
const { items = [] } = Astro.props;

const visible = Array.isArray(items) && items.length > 1;
---

{visible && (
  <nav class={styles.nav} aria-label="Breadcrumb">
    {items.map((item, idx) => {
      const isLast = idx === items.length - 1;
      return (
        <>
          {idx > 0 && <span class={styles.separator} aria-hidden="true">â€º</span>}
          {!isLast && item.to ? (
            <a class={styles.link} href={item.to}>{item.label}</a>
          ) : (
            <span class={styles.current} aria-current="page">{item.label}</span>
          )}
        </>
      );
    })}
  </nav>
)}
